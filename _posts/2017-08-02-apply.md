---
layout:     post
title:      "JS中的this以及apply，call，bind的区别"
subtitle:   "apply，call，bind"
date:       2017-08-02 21:01:13
author:     "Shiki"
tags:
    - JavaScript
---

## JS中的this以及apply，call，bind的区别

之前参加饿了么的面试，面试中问到了bind函数，当时没有深入学习，现在补全。this与arguments是js中函数默认附加的两个参数，我们这里讨论this的值以及this与this有关的函数apply，call，bind，主要内容来自于《javascript语言精粹》第四章。

### this的值

this的值取决于函数的调用模式，在js中一共有4种调用模式：

- 方法调用模式
- 函数调用模式
- 构造器调用模式
- apply调用模式

### 方法调用模式

函数被保存为对象的一个属性时，就是方法。当方法被调用时，this被绑定到该对象。在调用该函数时使用  . 点或者['name']下标的方式，那么它就是被当做夜歌方法调用的。

### 函数调用模式

当函数不是一个对象的属性时，那么它就是被当做函数调用的，这时this会绑定到全局变量。即使是在被当做内部函数调用时，依然绑定在全局变量。有一个技巧就是在方法调用模式下，使用一个变量（比如that）去存储this，这样就可以在方法内部的函数表达式使用外部的this变量。

### 构造器调用模式

在函数前带上new来调用，那么背地里将会创建一个连接到该函数的prototype成员的新对象，同时this会被绑定到那个新对象上。

### Apply调用模式

这里就集中讨论一下apply，call的使用与区别。js是函数式的面向对象编程语言，所以函数可以拥有方法。apply与call就是为了动态的改变this而出现的，两者的区别就是apply的第二个参数为数组，而call为function的参数列表。

apply:方法能劫持另外一个对象的方法，继承另外一个对象的属性.

Function.apply(obj,args)方法能接收两个参数
obj：这个对象将代替Function类里this对象
args：这个是数组，它将作为参数传给Function（args-->arguments）

call:和apply的意思一样,只不过是参数列表不一样.

Function.call(obj,[param1[,param2[,…[,paramN]]]])
obj：这个对象将代替Function类里this对象
params：这个是一个参数列表

### bind函数

call与apply是立即调用函数，而bind则是返回一个this被修改后的函数。使用bind得到的函数可以被存储起来再需要的时候调用，这就是最大的区别。bind可以用在函数绑定的高级技巧中，我之后会补全这部分内容。